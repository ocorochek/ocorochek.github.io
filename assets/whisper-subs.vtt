WEBVTT

1
00:00:00,060 --> 00:00:04,780
Как и обещал в прошлом видео, 
сегодня рассказ о Whisper
 

2
00:00:06,360 --> 00:00:13,500
Это нейросеть от OpenAI, которая занимается 
переводом аудио файлов в текст и которую  

3
00:00:13,500 --> 00:00:18,420
разработчики выложили в открытый доступ. 
Установить ее непросто, но и не так сложно,  

4
00:00:18,420 --> 00:00:26,580
раз уж я смог уложить это в семиминутное видео.
Как работает. Берете любой файл – неважно, wav,  

5
00:00:26,580 --> 00:00:33,360
mp3, видеофайл. Пишите магическое слово Whisper 
и получаете расшифровку в нескольких форматах.  

6
00:00:33,360 --> 00:00:40,980
Точнее TXT и несколько форматов субтитров. Сама 
нейросеть выложена на GitHub, но заходить сюда  

7
00:00:40,980 --> 00:00:46,620
необязательно. Разве что посмотреть процент 
ошибок. У русского достаточно низкий, русский  

8
00:00:46,620 --> 00:00:54,300
она понимает хорошо. Поехали. Значит начинаем мы 
с установки Python. Требует версию не ниже 3.9.9.  

9
00:00:54,300 --> 00:01:02,160
Сейчас на сайте 3.11.4. Пойдет. Дистрибутивы лежат 
в Downloads, вам нужен вот этот. Да, я показываю,  

10
00:01:02,160 --> 00:01:06,960
как это делать в Windows, но в принципе 
на Мак все примерно также. Устанавливаем.  

11
00:01:09,240 --> 00:01:17,340
Вот эту галочку надо только поставить. Все. 
Советую на каждом этапе перепроверять, поставилось  

12
00:01:17,340 --> 00:01:22,920
ли. Если не заработает, будете знать, на каком 
этапе произошла ошибка. Ставить придется много.  

13
00:01:22,920 --> 00:01:28,980
К сожалению работать придется с командной строкой, 
кто вообще не понимает что это – смотрите мой курс  

14
00:01:28,980 --> 00:01:35,700
по командной строке и Docker. Вызывается командная 
строка сочетанием клавиш Команд и английская R,  

15
00:01:35,700 --> 00:01:41,700
команд – это клавиша со значком Windows. 
В строке выполнить пишете CMD и в самой  

16
00:01:41,700 --> 00:01:48,600
строке пишете Python, двойное тире Version. 
Таким образом вы узнаете версию утилиты и то,  

17
00:01:48,600 --> 00:01:55,080
что она установлена. Дальше вам нужен PyTorch. Вот 
здесь выбираете все как у меня. Ну и собственно  

18
00:01:55,080 --> 00:02:00,780
как стоит по-умолчанию. Единственное с Cuda 
я не знаю, не проверял, что происходит на  

19
00:02:00,780 --> 00:02:08,280
AMD картах. Возможно здесь надо выбирать CPU, но 
попробуйте сначала Cuda. Если у вас карта GeForce,  

20
00:02:08,280 --> 00:02:14,640
у вас все отлично. И вам нужно скопировать эту 
строку без pip3 и в командной строке написать.  

21
00:02:14,640 --> 00:02:22,680
Python -m pip и вставить скопированную строку. Ну 
то есть впоследствии все команды с pip3 заменяйте  

22
00:02:22,680 --> 00:02:28,680
просто на PIp. Все, он сейчас будет качать и 
устанавливать. Отключаемся. Теперь вам нужен  

23
00:02:28,680 --> 00:02:38,280
FFmpeg, это чтобы понимать разные форматы аудио и 
видео файлов. Качаем для Windows вот этот BtbN. И  

24
00:02:38,280 --> 00:02:43,980
тут вам нужен вот этот – 128 Мб. Это можно 
не проверять – не заработает, потому что  

25
00:02:43,980 --> 00:02:49,380
надо указывать пути. Мы еще с этим столкнемся и 
укажем, но пока сделаем по-другому. Значит так,  

26
00:02:49,380 --> 00:02:54,540
если по кнопке пуска нажать правой кнопкой 
мыши, то появится вот такая штуковина. Очень,  

27
00:02:54,540 --> 00:03:00,240
кстати, удобная. То есть левая кнопка – программы, 
правая – вот такая штука. Тут вам нужна система  

28
00:03:00,240 --> 00:03:08,160
и дополнительные параметры системы. И здесь 
переменные среды. Вот, Path – путь. Зашли и  

29
00:03:08,160 --> 00:03:14,040
вот указаны пути, которые уже есть. Можно либо 
указать путь к папке, где у вас лежит FFMpeg,  

30
00:03:14,040 --> 00:03:20,880
либо добавить FFMpeg в папку, пути к которой уже 
прописаны. Я добавлю, чтобы все, что касается  

31
00:03:20,880 --> 00:03:26,460
Python лежало в одном месте и вы не могли это 
случайно удалить. То есть нужно найти папку,  

32
00:03:26,460 --> 00:03:31,740
путь к которой прописан здесь. Это тоже 
непросто. Значит на пути у нас есть  

33
00:03:31,740 --> 00:03:35,460
User, это вы, у вас есть своя папка, 
которая лежит в папке пользователи.  

34
00:03:35,460 --> 00:03:41,520
Название совпадает с вашим логином. И 
тут вам нужна папка AppData, которой нет,  

35
00:03:41,520 --> 00:03:47,160
потому что она скрыта. Я пользуюсь Total Commander 
и вам настоятельно рекомендую. Здесь скрытые папки  

36
00:03:47,160 --> 00:03:51,840
отображаются по нажатию на эту кнопку, но в 
Проводнике тоже есть возможность отображать  

37
00:03:51,840 --> 00:03:58,320
скрытые папки. Ищите. Проходим весь путь. Тут 
указаны два пути, значит можно положить здесь,  

38
00:03:58,320 --> 00:04:03,360
можно в скрипты. Положим в скрипты. 
И из скачанного архива. Это Zip,  

39
00:04:03,360 --> 00:04:09,300
вам нужно разархивировать вот эти три файла. Они 
лежат в папке Bin. Их нужно переложить в скрипты.  

40
00:04:10,200 --> 00:04:17,040
Все. Проверяем. FFmpeg. Все нормально. 
Если такая тарабарщина выскочила,  

41
00:04:17,040 --> 00:04:25,320
значит все установлено. И последнее, что нам 
нужно – установить Git. Для Windows. Скачали.  

42
00:04:27,840 --> 00:04:31,620
Установили. Очень много галочек, 
оставляйте все по умолчанию.  

43
00:04:35,640 --> 00:04:43,920
Проверяем. Нет, не установили. Опять же пути 
надо прописывать. Он у нас лежит сейчас в  

44
00:04:43,920 --> 00:04:48,300
Program Files, это надо указать. Опять 
идем в систему, дополнительные параметры,  

45
00:04:48,300 --> 00:04:57,720
переменные среды. Пути и создать. Причем два пути 
– один на папку Bin. Копируем путь, вставляем.  

46
00:04:57,720 --> 00:05:03,480
Ну или можете руками прописать, у вас путь 
будет таким же, если у вас система на диске С.  

47
00:05:05,400 --> 00:05:14,400
Окей и второй путь на папку CMD. Все. 
Проверяем. Надо перезапустить командную строку.  

48
00:05:15,480 --> 00:05:24,120
Нет.. А! Окей надо нажать. Ну да. Вот ведь, 
всего не учтешь. Проверяем, да. Все готово к  

49
00:05:24,120 --> 00:05:30,360
установке собственно Whisper, но это как раз самое 
простое. Заходим на Git. Ну или команду оставлю в  

50
00:05:30,360 --> 00:05:36,900
описании. Вообще, кстати, все ссылки в описании. 
Копируем вот это, вставляем в командную строку. Но  

51
00:05:36,900 --> 00:05:43,440
сначала пишем Python -m и потом уже вставляем. 
Опять же будет качать, устанавливать. И все.  

52
00:05:43,440 --> 00:05:49,680
Как работает. Значит вам нужна опять командная 
строка. В ней нужно перейти в папку с файлом,  

53
00:05:49,680 --> 00:05:55,260
который хотите транскрибировать. Задача не из 
легких, но можно в проводнике вот здесь набрать  

54
00:05:55,260 --> 00:06:02,280
cmd и вы попадете сразу в эту папку. Видите, вот 
адрес папки. И теперь берем имя файла и пишем  

55
00:06:02,280 --> 00:06:10,680
Wisper и вставляем имя файла с расширением. Интер. 
Запустили процесс. Сначала он определяет язык,  

56
00:06:10,680 --> 00:06:17,220
потом транскрибирует и выдает несколько текстовых 
файлов в той же папке, где лежал исходный файл.  

57
00:06:17,220 --> 00:06:24,180
Их, соответственно, можно редактировать. Даже 
файл srt, который добавляет субтитры к видео. И  

58
00:06:24,180 --> 00:06:29,700
теперь почему Total Commander. Кроме того, что это 
просто удобно, здесь, например, командная строка  

59
00:06:29,700 --> 00:06:37,920
уже болтается внизу, причем уже в той папке, где 
вы находитесь. Берем имя файла. Вставляем. Пишем  

60
00:06:37,920 --> 00:06:43,980
здесь Whisper и получаем то же самое, но быстрее 
и проще. Таким же образом можно транскрибировать  

61
00:06:43,980 --> 00:06:50,700
видеофайлы большинства известных форматов.
Но в имени файлов не должно быть пробелов.  

62
00:06:50,700 --> 00:06:57,600
Короткое, но важное примечание – имя файлов без 
пробелов. По скорости – у меня GeForce 1080,  

63
00:06:57,600 --> 00:07:04,080
делает на скорости 4-5. Ну то есть десятиминутный 
ролик делает 2-3 минуты. Все любите друг друга,  

64
00:07:04,080 --> 00:07:08,580
теперь это просто жизненно необходимо 
и помните, в конечном итоге все будет  

65
00:07:08,580 --> 00:07:12,900
хорошо. Это говорю вам я – Вова Ломов 
и Теплица социальных технологий.